(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},2870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(260),a=r(8203),n=r(5155),i=r.n(n),o=r(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5104)),"/Users/admin/Documents/1 Projects/KreditScore4/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"/Users/admin/Documents/1 Projects/KreditScore4/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/admin/Documents/1 Projects/KreditScore4/frontend/app/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1181:(e,t,r)=>{Promise.resolve().then(r.bind(r,5104))},2621:(e,t,r)=>{Promise.resolve().then(r.bind(r,7136))},3347:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},299:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},1447:()=>{},4591:()=>{},7136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5512),a=r(8009),n=r(9334),i=r(8957);function o({className:e=""}){let[t,r]=(0,a.useState)(!1),n=async()=>{r(!0);try{await (0,i.Wp)()}catch(e){console.error("Ошибка авторизации:",e),alert("Произошла ошибка при авторизации. Попробуйте еще раз.")}finally{r(!1)}};return(0,s.jsx)("button",{onClick:n,disabled:t,className:`
        btn-telegram 
        flex items-center justify-center 
        gap-3 px-6 py-4 text-lg 
        min-w-[280px] 
        disabled:opacity-50 disabled:cursor-not-allowed
        transform transition-all duration-200 
        hover:scale-105 active:scale-95
        shadow-lg hover:shadow-xl
        ${e}
      `,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),(0,s.jsx)("span",{children:"Подключение..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.820 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),(0,s.jsx)("span",{children:"Войти через Telegram"})]})})}function l(){(0,n.useRouter)();let[e,t]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1);return e||r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:r?"Завершение авторизации...":"Загрузка..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-16 pt-16",children:[(0,s.jsx)("div",{className:"inline-block p-3 bg-primary-100 rounded-2xl mb-6",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,s.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:(0,s.jsx)("span",{className:"text-gradient",children:"KreditScore4"})}),(0,s.jsx)("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Безопасная авторизация через Telegram Bot с отображением персональных данных"}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto shadow-xl border border-gray-200",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Войти в систему"}),(0,s.jsx)(o,{className:"w-full mb-4"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Нажимая кнопку, вы соглашаетесь с обработкой персональных данных"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)("div",{className:"inline-block p-3 bg-telegram-100 rounded-xl mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-telegram-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.820 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Через Telegram"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Быстрая и безопасная авторизация через ваш аккаунт Telegram"})]}),(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)("div",{className:"inline-block p-3 bg-green-100 rounded-xl mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Безопасность"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Все данные передаются в зашифрованном виде и надежно защищены"})]}),(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)("div",{className:"inline-block p-3 bg-blue-100 rounded-xl mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Аналитика"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Детальная информация о ваших сессиях и устройствах"})]})]}),(0,s.jsxs)("div",{className:"card max-w-4xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Как это работает"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-3",children:"1"}),(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Нажмите кнопку"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Начните авторизацию через Telegram"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-3",children:"2"}),(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Откройте бота"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Перейдите в Telegram Bot по ссылке"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-3",children:"3"}),(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Поделитесь номером"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Отправьте номер телефона через бота"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-3",children:"4"}),(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Готово!"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Возвращайтесь и пользуйтесь системой"})]})]})]})]})})}},3567:(e,t,r)=>{"use strict";r.d(t,{ZQ:()=>i,i$:()=>o});var s=r(5668),a=r(5998);let n=s.A.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=a.A.get("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),n.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(a.A.remove("access_token"),window.location.href="/"),Promise.reject(e)));let i={createAuthToken:async()=>(await n.post("/api/auth/create-token")).data,checkAuthStatus:async e=>(await n.post("/api/auth/verify",{auth_token:e})).data,async logout(){await n.post("/api/auth/logout"),a.A.remove("access_token")}},o={getMe:async()=>(await n.get("/api/users/me")).data,getMySessions:async()=>(await n.get("/api/users/me/sessions")).data,getDeviceInfo:async()=>(await n.get("/api/users/me/device-info")).data}},8957:(e,t,r)=>{"use strict";r.d(t,{KM:()=>c,Wp:()=>l,mn:()=>o,ri:()=>i,wR:()=>n});var s=r(5998),a=r(3567);function n(){return!!s.A.get("access_token")}async function i(){try{await a.ZQ.logout()}catch(e){console.error("Ошибка при выходе:",e)}finally{s.A.remove("access_token"),window.location.href="/"}}function o(){return null}async function l(){try{let{telegram_url:e}=await a.ZQ.createAuthToken();window.location.href=e}catch(e){throw console.error("Ошибка при создании токена авторизации:",e),Error("Не удалось начать авторизацию")}}async function c(e){try{var t;let r=await a.ZQ.checkAuthStatus(e);return t=r.access_token,s.A.set("access_token",t,{expires:7,secure:!0,sameSite:"strict"}),r.user}catch(e){throw console.error("Ошибка при завершении авторизации:",e),Error("Не удалось завершить авторизацию")}}},9611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i,viewport:()=>o});var s=r(2740),a=r(9258),n=r.n(a);r(2704);let i={title:"KreditScore4",description:"Авторизация через Telegram Bot"},o={width:"device-width",initialScale:1,themeColor:"#3b82f6"};function l({children:e}){return(0,s.jsxs)("html",{lang:"ru",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"})]}),(0,s.jsx)("body",{className:`${n().className} bg-gray-50 min-h-screen`,children:(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)("main",{className:"flex-1",children:e}),(0,s.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4",children:(0,s.jsx)("div",{className:"container mx-auto px-4 text-center text-sm text-gray-600",children:"\xa9 2024 KreditScore4. Все права защищены."})})]})})]})}},5104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/admin/Documents/1 Projects/KreditScore4/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/admin/Documents/1 Projects/KreditScore4/frontend/app/page.tsx","default")},2704:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[720,338],()=>r(2870));module.exports=s})();